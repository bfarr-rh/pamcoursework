


<!DOCTYPE html>
<html>
<head>
    <title>Solar Village</title>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script
            src="https://code.jquery.com/jquery-3.4.0.min.js"
            integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg="
            crossorigin="anonymous"></script>
    <script src="sv.js"></script>

    <!-- script src="https://code.jquery.com/jquery-1.12.4.js"></script -->
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
      $( function() {
        $( "#tabs" ).tabs();
      } );
  </script>
</head>

<body>
<div>
    <p><h1>A proof of concept for SolarVillage Home Approvals</h1></p>

    <div><label>Process Instance Id:</label>
        <input id="processInstanceId" type="text" value="" />
    <label>Current Task Id:</label>
        <input id="currentTaskId" type="text" value="" />
    </div>
    <div id="tabs">
        <ul>
            <li><a href="#tabs-1">Setup and Instructions</a></li>
            <li><a href="#tabs-2">Step 1 - Start Process</a></li>
            <li><a href="#tabs-3">Step 2</a></li>
            <li><a href="#tabs-4">Step 3</a></li>
            <li><a href="#tabs-5">Step 4</a></li>
            <li><a href="#tabs-6">Step 5</a></li>
            <li><a href="#tabs-7">Step 6</a></li>
            <li><a href="#tabs-8">Step 7</a></li>
        </ul>
        <div id="tabs-1">
            <p>This page guides you through the setup and initiation of the SolarVillage New Order Process</p>
            <p>Adjust values as required and proceed from Step 1 through to Step 7 to complete the process.</p>
            <p>Notes:</p>
            <p>1. Ensure you have added a user salesman, with group sales and password salesman1! using adduser script in jboss/bin directory</p>
            <p>2. To run this page you may need to enable CORS for the kie server https://access.redhat.com/solutions/4036301</p>
            <p>3. To adjust the returned value of mocked Government services to Approved or Denied, please change via this <a target=”_blank” href="http://localhost:8080/jaxws-pojo-endpoint/status.jsp">link </a></p>


            <div><label>Container Id {containerId} will be replaced in urls: </label>
                <input id="containerid" type="text" value="sv2_1.47" /></div>


            <div><label>User name KIE Rest API :</label>
                <input id="username1" type="text" value="salesman" /></div>
            <div><label>Password:</label>
                <input id="password1" type="text" value="salesman1!" /></div>
        </div>
        <div id="tabs-2">
            <p>Initiate the process with the following user and URL</p>
            <div><label>User name to initiate process:</label>
                <input id="username" type="text" value="erics" /></div>
            <div><label>Password:</label>
                <input id="password" type="text" value="password" /></div>
            <div><label>URL:</label>
                <input id="step1_url" type="text" size="130"
                       value="http://localhost:8080/kie-server/services/rest/server/containers/{containerId}/processes/solarvillage.NewOrderPermiiting/instances"/>
            </div>
            <div>
                <label>NewOrder - json format</label>
                <textarea id="step1_json" rows="10" cols="130">
    {
	    "NewOrder" :{
            "com.redhat.bfarr.solarvillage.businessprocess.NewOrder": {
                "firstName": "Ben",
                "lastName" : "Smith",
                "dob" : "2000-07-30",
                "addressLine1":"16 Smith Street" ,
                "addressLine2":"Melbourne" ,
                 "postCode":"3000" ,
                "memberOfHOA": "true",
                "hoaName": "Smiths"
            }
        }
    }
    </textarea>
            </div>
            <button id="step1_button">Submit and Start Process</button>

        </div>
        <div id="tabs-3">
            <p>This step identifies the available New Order tasks to claim for the Sales Group checking the current process id</p>
            <p>Proceed to Step 3 once you have populated or overridden the Current Task Id above</p>
            <p>Help: If Process Instance Id is empty, run this once and identify a valid task-proc-inst-id to use in JSON returned</p>
            <div>
                <button id="step2_button">Step 2 - List available Processes</button>
                <div><label>URL:</label>
                    <input id="step2_url" type="text" size="130"
                           value="http://localhost:8080/kie-server/services/rest/server/queries/tasks/instances/pot-owners?groups=sales" />
                </div>
                <div>
                    Result in JSON
                </div>
                <div>
                    <textarea id="step2_json" rows="15" cols="130"></textarea>
                </div>
            </div>
        </div>
        <div id="tabs-4">
            <div>
                <button id="step3_button">Step 3 - Claim task for salesman</button>
                <div><label>URL:</label>
                    <input id="step3_url" type="text" size="130"
                           value="http://localhost:8080/kie-server/services/rest/server/containers/{containerId}/tasks/{taskid}/states/claimed" />

                </div>
            </div>
        </div>
        <div id="tabs-5">
            <div>
                <button id="step4_button">Step 4 - Start task for salesman</button>
                <div><label>URL:</label>
                    <input id="step4_url" type="text" size="130"
                           value="http://localhost:8080/kie-server/services/rest/server/containers/{containerId}/tasks/{taskid}/states/started" />
                </div>
            </div>
        </div>
        <div id="tabs-6">
            <button id="step45_button">Step 4.5 - Hoa Approval </button>
            <div><label>URL:</label>
                <input id="step45_url" type="text" size="130"
                       value="http://localhost:8080/kie-server/services/rest/server/containers/{containerId}/forms/tasks/{taskid}/content" />
                <div id="abcid">
                </div>
            </div>

        </div>
        <div id="tabs-7">
            <div>
                <button id="step5_button">Step 5 - Complete task for salesman</button>
                <div><label>URL:</label>
                    <input id="step5_url" type="text" size="130"
                           value="http://localhost:8080/kie-server/services/rest/server/containers/{containerId}/tasks/{taskid}/states/completed" />
                </div>
            </div>
        </div>
        <div id="tabs-8">

        </div>
    </div>


</div>
</body>
</html>
